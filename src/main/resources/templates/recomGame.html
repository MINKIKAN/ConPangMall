<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">

<!--공통되는 cdn, 타이틀 등 fragments폴더안에 header 안에 넣고 replace 했습니다 -->
<head>
  <div th:replace="fragments/header :: header" />
  <link rel="stylesheet" href="/css/home.css">
</head>

<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">

  <!-- 왼쪽 사이드 바 시작 -->
  <!-- th:replace로 templates안에 fragments 폴더안에 side_bar.html 받아오게 함 -->
  <!-- 수정할 내용은 side_bar.html 에서 해주시면 다 적용됩니다 -->
  <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">
    <div th:replace="fragments/side_bar :: side_bar"/>
  </ul>


  <!-- Content Wrapper -->
  <div id="content-wrapper" class="d-flex flex-column">

    <!-- Main Content -->
    <div id="content">

      <!-- 상단의 nav 바 시작 -->
      <!-- 이것도 수정하실거 있으시면 fragments 폭더에 nav_bar 수정해주시면 됩니다 -->
      <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
        <div th:replace="fragments/nav_bar :: nav_bar" />
      </nav>
      <!-- 상단의 nav 바 끝 -->

      <!-- 바디 부분 시작 -->
        <!-- ... 생략 ... -->
        <!-- 바디 부분 시작 -->
      <div class="container-fluid">
        <h2>${game.platforms.name} Best 10</h2>
        <div class="row">
          <!-- 게임 이미지와 이름 출력 -->
          <div th:each="game : ${games}" class="col-6 col-sm-4 col-md-3 col-lg-2 mb-3">
            <div class="card h-100">
              <a href="#" th:attr="data-target='#gameModal' + ${game.id}" data-toggle="modal">
                <img th:src="${game.cover.url}" class="card-img-top" alt="Game cover">
                <div class="card-body">
                  <p class="card-text" th:text="${game.name}"></p>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div th:each="game : ${games}">
        <div class="modal fade" th:id="'gameModal' + ${game.id}" tabindex="-1" role="dialog">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" th:text="${game.name}"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-md-6">
                    <img th:src="${game.cover.url}" class="img-fluid" alt="Game cover">
                  </div>
                  <div class="col-md-6">
                    <h6>장르:</h6>
                    <ul>
                      <li th:each="genre : ${game.genres}" th:text="${genre.name}"></li>
                    </ul>
                    <h6>출시일:</h6>
                    <ul>
                      <li th:each="releaseDate : ${game.releaseDates}" th:text="${releaseDate.human}"></li>
                    </ul>
                    <h6>플렛폼:</h6>
                    <ul>
                      <li th:each="platform : ${game.platforms}" th:text="${platform.name}"></li>
                    </ul>
                    <h6>게임모드:</h6>
                    <ul>
                      <li th:each="gameMode : ${game.gameModes}" th:text="${gameMode.name}"></li>
                    </ul>
                    <h6>제작사:</h6>
                    <ul>
                      <li th:each="company : ${game.companies}" th:text="${company.name}"></li>
                    </ul>
                    <h6>게임 요약:</h6>
                    <p th:text="${game.summary}"></p>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    <!-- ... 생략 ... -->


        <!-- End of Main Content -->

      <!-- Footer -->
      <footer class="sticky-footer bg-white">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>Copyright &copy; Your Website 2021</span>
          </div>
        </div>
      </footer>
      <!-- End of Footer -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <!-- Logout Modal-->
  <div th:replace="fragments/logout :: logout"/>
  <!-- Bootstrap core JavaScript-->
  <script src="/vendor/jquery/jquery.min.js"></script>
  <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="/vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="/js/sb-admin-2.min.js"></script>


</div>
</body>

</html>